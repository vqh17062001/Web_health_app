@page "/assessmentbatch/edit"
@using Microsoft.AspNetCore.Authorization
@using Web_health_app.Web.Components.Layout

@layout EmptyLayout
@attribute [Authorize(Roles = "ACCESS.EditAssessmentBatch")]

<link href="/css/AssessmentBatch/edit-assessment-batch.css" rel="stylesheet" />

<div class="edit-assessment-container">
    <div class="edit-assessment-card">
        <!-- Header -->
        <div class="card-header">
            <div class="header-content">
                <div class="header-icon">
                    <i class="fas fa-edit"></i>
                </div>
                <div class="header-text">
                    <h2>Chỉnh Sửa Đợt Kiểm Tra Thể Lực</h2>
                    <p>Cập nhật thông tin và cấu hình đợt kiểm tra</p>
                </div>
            </div>
            <button type="button" class="btn-close" onclick="window.history.back()">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <!-- Form Body -->
        <div class="card-body">
            <form class="edit-assessment-form">
                <!-- Current Assessment Info Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-info-circle"></i>
                        Thông Tin Hiện Tại
                    </h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-hashtag"></i>
                                Mã Đợt Kiểm Tra
                            </label>
                            <div class="info-display">
                                <i class="fas fa-barcode"></i>
                                BATCH_2024_001
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-calendar"></i>
                                Ngày Tạo
                            </label>
                            <div class="info-display">
                                <i class="fas fa-clock"></i>
                                15/01/2024 09:30
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-toggle-on"></i>
                                Trạng Thái Hiện Tại
                            </label>
                            <div class="status-badge active">
                                <i class="fas fa-play-circle"></i>
                                Đang Tiến Hành
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-users"></i>
                                Số Lượng Tham Gia
                            </label>
                            <div class="info-display">
                                <i class="fas fa-user-check"></i>
                                320/450 học sinh (71%)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Basic Information Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-clipboard"></i>
                        Thông Tin Cơ Bản
                    </h3>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">
                                <i class="fas fa-tag"></i>
                                Tên Đợt Kiểm Tra <span class="required">*</span>
                            </label>
                            <input type="text" class="form-control" id="assessmentName" name="assessmentName"
                                placeholder="Nhập tên đợt kiểm tra" value="Kiểm tra thể lực học kỳ I" required />
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">
                                <i class="fas fa-align-left"></i>
                                Mô Tả Chi Tiết
                            </label>
                            <textarea class="form-control" id="description" name="description" rows="4"
                                placeholder="Nhập mô tả chi tiết về đợt kiểm tra...">Đánh giá thể lực tổng hợp cho tất cả học sinh khối 10, 11, 12 bao gồm các bài kiểm tra sức bền, sức mạnh và độ dẻo dai.</textarea>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-layer-group"></i>
                                Loại Kiểm Tra <span class="required">*</span>
                            </label>
                            <select class="form-select" id="assessmentType" name="assessmentType" required>
                                <option value="">Chọn loại kiểm tra</option>
                                <option value="comprehensive" selected>Kiểm tra tổng hợp</option>
                                <option value="physical">Kiểm tra thể lực</option>
                                <option value="health">Kiểm tra sức khỏe</option>
                                <option value="endurance">Kiểm tra sức bền</option>
                                <option value="strength">Kiểm tra sức mạnh</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-flag"></i>
                                Mức Độ Ưu Tiên
                            </label>
                            <select class="form-select" id="priority" name="priority">
                                <option value="">Chọn mức độ</option>
                                <option value="low">Thấp</option>
                                <option value="medium">Trung bình</option>
                                <option value="high" selected>Cao</option>
                                <option value="urgent">Khẩn cấp</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Schedule Information Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-calendar-alt"></i>
                        Thời Gian Thực Hiện
                    </h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-play"></i>
                                Ngày Bắt Đầu <span class="required">*</span>
                            </label>
                            <input type="datetime-local" class="form-control" id="startDate" name="startDate"
                                value="2024-01-20T08:00" required />
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-stop"></i>
                                Ngày Kết Thúc <span class="required">*</span>
                            </label>
                            <input type="datetime-local" class="form-control" id="endDate" name="endDate"
                                value="2024-02-05T17:00" required />
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-clock"></i>
                                Thời Gian Đăng Ký
                            </label>
                            <input type="datetime-local" class="form-control" id="registrationDeadline" name="registrationDeadline"
                                value="2024-01-18T23:59" />
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-hourglass-half"></i>
                                Thời Gian Thực Hiện (phút)
                            </label>
                            <input type="number" class="form-control" id="duration" name="duration"
                                placeholder="Thời gian dự kiến" value="120" min="30" max="480" />
                        </div>
                    </div>
                </div>

                <!-- Participants Management Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-users-cog"></i>
                        Quản Lý Đối Tượng Tham Gia
                    </h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-graduation-cap"></i>
                                Khối Lớp Tham Gia <span class="required">*</span>
                            </label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="grades" value="10" checked />
                                    <span class="checkmark"></span>
                                    Khối 10
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="grades" value="11" checked />
                                    <span class="checkmark"></span>
                                    Khối 11
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="grades" value="12" checked />
                                    <span class="checkmark"></span>
                                    Khối 12
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-venus-mars"></i>
                                Giới Tính Tham Gia
                            </label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="genders" value="male" checked />
                                    <span class="checkmark"></span>
                                    Nam
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="genders" value="female" checked />
                                    <span class="checkmark"></span>
                                    Nữ
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-users"></i>
                                Số Lượng Tối Đa
                            </label>
                            <input type="number" class="form-control" id="maxParticipants" name="maxParticipants"
                                placeholder="Nhập số lượng tối đa" value="450" min="1" />
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-user-plus"></i>
                                Cho Phép Đăng Ký Muộn
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="allowLateRegistration" name="allowLateRegistration" checked />
                                <label for="allowLateRegistration" class="toggle-label">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Test Configuration Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-cogs"></i>
                        Cấu Hình Bài Kiểm Tra
                    </h3>

                    <div class="tests-container">
                        <div class="test-category">
                            <h4 class="category-title">
                                <i class="fas fa-running"></i>
                                Bài Kiểm Tra Sức Bền
                            </h4>
                            <div class="test-list">
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="running_12min" checked />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Chạy 12 phút</span>
                                        <small class="test-desc">Đo lường sức bền tim mạch</small>
                                    </div>
                                </label>
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="running_1500m" />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Chạy 1500m</span>
                                        <small class="test-desc">Kiểm tra sức bền cơ bản</small>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="test-category">
                            <h4 class="category-title">
                                <i class="fas fa-dumbbell"></i>
                                Bài Kiểm Tra Sức Mạnh
                            </h4>
                            <div class="test-list">
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="pushups" checked />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Hít đất</span>
                                        <small class="test-desc">Sức mạnh cơ tay</small>
                                    </div>
                                </label>
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="situps" checked />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Gập bụng</span>
                                        <small class="test-desc">Sức mạnh cơ bụng</small>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="test-category">
                            <h4 class="category-title">
                                <i class="fas fa-weight"></i>
                                Chỉ Số Cơ Thể
                            </h4>
                            <div class="test-list">
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="height_weight" checked />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Chiều cao - Cân nặng</span>
                                        <small class="test-desc">Chỉ số BMI</small>
                                    </div>
                                </label>
                                <label class="test-item">
                                    <input type="checkbox" name="tests" value="flexibility" />
                                    <span class="test-checkmark"></span>
                                    <div class="test-info">
                                        <span class="test-name">Độ dẻo dai</span>
                                        <small class="test-desc">Kiểm tra độ linh hoạt</small>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Location & Equipment Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-map-marker-alt"></i>
                        Địa Điểm & Thiết Bị
                    </h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-building"></i>
                                Địa Điểm Tổ Chức <span class="required">*</span>
                            </label>
                            <select class="form-select" id="location" name="location" required>
                                <option value="">Chọn địa điểm</option>
                                <option value="gym" selected>Phòng tập thể dục</option>
                                <option value="playground">Sân chơi</option>
                                <option value="field">Sân bóng</option>
                                <option value="hall">Hội trường</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-tools"></i>
                                Thiết Bị Cần Thiết
                            </label>
                            <input type="text" class="form-control" id="equipment" name="equipment"
                                placeholder="Nhập danh sách thiết bị" value="Thước đo, cân điện tử, đồng hồ bấm giờ" />
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">
                                <i class="fas fa-sticky-note"></i>
                                Ghi Chú Về Địa Điểm
                            </label>
                            <textarea class="form-control" id="locationNotes" name="locationNotes" rows="3"
                                placeholder="Ghi chú thêm về địa điểm, yêu cầu đặc biệt...">Cần chuẩn bị sẵn các thiết bị đo lường và đảm bảo không gian thoáng mát</textarea>
                        </div>
                    </div>
                </div>

                <!-- Status Management Section -->
                <div class="form-section">
                    <h3 class="section-title">
                        <i class="fas fa-tasks"></i>
                        Quản Lý Trạng Thái
                    </h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-toggle-on"></i>
                                Trạng Thái Mới <span class="required">*</span>
                            </label>
                            <select class="form-select" id="status" name="status" required>
                                <option value="">Chọn trạng thái</option>
                                <option value="draft">Bản nháp</option>
                                <option value="active" selected>Đang tiến hành</option>
                                <option value="paused">Tạm dừng</option>
                                <option value="completed">Hoàn thành</option>
                                <option value="cancelled">Hủy bỏ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">
                                <i class="fas fa-eye"></i>
                                Hiển Thị Công Khai
                            </label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="isPublic" name="isPublic" checked />
                                <label for="isPublic" class="toggle-label">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group full-width">
                            <label class="form-label">
                                <i class="fas fa-comment"></i>
                                Lý Do Thay Đổi
                            </label>
                            <textarea class="form-control" id="changeReason" name="changeReason" rows="3"
                                placeholder="Nhập lý do thay đổi trạng thái hoặc thông tin..."></textarea>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <!-- Footer Actions -->
        <div class="card-footer">
            <div class="action-buttons">
                <button type="button" class="btn btn-secondary">
                    <i class="fas fa-history"></i>
                    Xem Lịch Sử
                </button>
                <button type="button" class="btn btn-reset">
                    <i class="fas fa-undo"></i>
                    Khôi Phục
                </button>
                <button type="button" class="btn btn-cancel" onclick="window.history.back()">
                    <i class="fas fa-times"></i>
                    Hủy Bỏ
                </button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Cập Nhật
                </button>
            </div>
        </div>
    </div>
</div>

@code {

}
